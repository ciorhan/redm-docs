# Events

Treat every event as a contract with validation and observability.

## Event Contract Template

- Event name: `<resource>:<action>`
- Direction: `client -> server` or `server -> client`
- Payload shape: explicit fields and types
- Failure behavior: reject, log, and return

## Server Validation Pattern

```lua
RegisterNetEvent("jobs:start", function(payload)
  local src = source

  if type(payload) ~= "table" then
    print(("[jobs:start] invalid payload type from %s"):format(src))
    return
  end

  local jobId = payload.jobId
  if type(jobId) ~= "string" or jobId == "" then
    print(("[jobs:start] invalid jobId from %s"):format(src))
    return
  end

  -- continue with validated inputs
end)
```

## Operational Rules

- Validate every field before side effects.
- Never trust client permissions; re-check on server.
- Include event name and source in error logs.

## Review Checklist

- Is payload versioned if structure may evolve?
- Are invalid states observable in logs?
- Is the event idempotent or protected from double execution?
